Vision and Image Processing
Assignment 4: Content Based Image Retrieval
Hold 2 - Assignment group 5

Marcus Frehr Friis-Hansen lns611
Mikkel Keller Andreasen trq281
Søren Strøyberg lds147

The code is entirely in a jupyter document
to run it just press run all in the top of the document

Needed packages:
datasets
numpy
pandas
scikit-learn
opencv-python


All packages in used environment:


# Name                                  Version                Build                     Channel
_libavif_api                            1.3.0                  h57928b3_2                conda-forge
_openmp_mutex                           4.5                    2_gnu                     conda-forge
_python_abi3_support                    1.0                    hd8ed1ab_2                conda-forge
aiohappyeyeballs                        2.6.1                  pyhd8ed1ab_0              conda-forge
aiohttp                                 3.13.2                 py313h4f5f683_0           conda-forge
aiosignal                               1.4.0                  pyhd8ed1ab_0              conda-forge
anyio                                   4.12.0                 pyhcf101f3_0              conda-forge
aom                                     3.9.1                  he0c23c2_0                conda-forge
apptools                                5.3.1                  pyhe01879c_1              conda-forge
asttokens                               3.0.1                  pyhd8ed1ab_0              conda-forge
attrs                                   25.4.0                 pyhcf101f3_1              conda-forge
aws-c-auth                              0.9.3                  h2970c50_0                conda-forge
aws-c-cal                               0.9.13                 h46f3b43_1                conda-forge
aws-c-common                            0.12.6                 hfd05255_0                conda-forge
aws-c-compression                       0.3.1                  hcb3a2da_9                conda-forge
aws-c-event-stream                      0.5.7                  ha388e84_1                conda-forge
aws-c-http                              0.10.7                 hc678f4a_5                conda-forge
aws-c-io                                0.23.3                 h0d5b9f9_5                conda-forge
aws-c-mqtt                              0.13.3                 hfa314fa_11               conda-forge
aws-c-s3                                0.11.3                 ha659bf3_1                conda-forge
aws-c-sdkutils                          0.2.4                  hcb3a2da_4                conda-forge
aws-checksums                           0.2.7                  hcb3a2da_5                conda-forge
aws-crt-cpp                             0.35.4                 hca034e6_0                conda-forge
aws-sdk-cpp                             1.11.606               hac16450_10               conda-forge
backports.zstd                          1.2.0                  py313h2a31948_0           conda-forge
blosc                                   1.21.6                 hfd34d9b_1                conda-forge
brotli                                  1.2.0                  h2d644bc_1                conda-forge
brotli-bin                              1.2.0                  hfd05255_1                conda-forge
brotli-python                           1.2.0                  py313h3ebfc14_1           conda-forge
bzip2                                   1.0.8                  h0ad9c76_8                conda-forge
c-ares                                  1.34.6                 hfd05255_0                conda-forge
ca-certificates                         2025.12.2              haa95532_0
cairo                                   1.18.4                 h5782bbf_0                conda-forge
certifi                                 2025.11.12             pyhd8ed1ab_0              conda-forge
charset-normalizer                      3.4.4                  pyhd8ed1ab_0              conda-forge
click                                   8.3.1                  pyha7b4d00_1              conda-forge
colorama                                0.4.6                  pyhd8ed1ab_1              conda-forge
comm                                    0.2.3                  pyhe01879c_0              conda-forge
configobj                               5.0.9                  pyhd8ed1ab_1              conda-forge
contourpy                               1.3.3                  py313hf069bd2_3           conda-forge
cpython                                 3.13.11                py313hd8ed1ab_100         conda-forge
cycler                                  0.12.1                 pyhcf101f3_2              conda-forge
datasets                                4.4.1                  pyhcf101f3_0              conda-forge
dav1d                                   1.2.1                  hcfcfb64_0                conda-forge
debugpy                                 1.8.17                 py313h927ade5_1           conda-forge
decorator                               5.2.1                  pyhd8ed1ab_0              conda-forge
dill                                    0.4.0                  pyhcf101f3_1              conda-forge
double-conversion                       3.3.1                  he0c23c2_0                conda-forge
envisage                                7.0.4                  pyhe01879c_1              conda-forge
exceptiongroup                          1.3.1                  pyhd8ed1ab_0              conda-forge
executing                               2.2.1                  pyhd8ed1ab_0              conda-forge
ffmpeg                                  8.0.0                  gpl_h70aa942_905          conda-forge
filelock                                3.20.1                 pyhd8ed1ab_0              conda-forge
fmt                                     11.2.0                 h1d4551f_0                conda-forge
font-ttf-dejavu-sans-mono               2.37                   hab24e00_0                conda-forge
font-ttf-inconsolata                    3.000                  h77eed37_0                conda-forge
font-ttf-source-code-pro                2.038                  h77eed37_0                conda-forge
font-ttf-ubuntu                         0.83                   h77eed37_3                conda-forge
fontconfig                              2.15.0                 h765892d_1                conda-forge
fonts-conda-ecosystem                   1                      0                         conda-forge
fonts-conda-forge                       1                      hc364b38_1                conda-forge
fonttools                               4.61.0                 py313hd650c13_0           conda-forge
freeglut                                3.2.2                  he0c23c2_3                conda-forge
freetype                                2.14.1                 h57928b3_0                conda-forge
fribidi                                 1.0.16                 hfd05255_0                conda-forge
frozenlist                              1.7.0                  py313h0c48a3b_0           conda-forge
fsspec                                  2025.10.0              pyhd8ed1ab_0              conda-forge
gdk-pixbuf                              2.44.4                 h1f5b9c4_0                conda-forge
gl2ps                                   1.4.2                  had7236b_1                conda-forge
glib                                    2.86.2                 hde84fb4_0                conda-forge
glib-tools                              2.86.2                 he647baa_0                conda-forge
glslang                                 15.4.0                 h5b34520_0                conda-forge
graphite2                               1.3.14                 hac47afa_2                conda-forge
gst-plugins-base                        1.24.11                h3fe0a9e_0                conda-forge
gstreamer                               1.24.11                h233a61a_0                conda-forge
h11                                     0.16.0                 pyhd8ed1ab_0              conda-forge
h2                                      4.3.0                  pyhcf101f3_0              conda-forge
harfbuzz                                12.2.0                 h5f2951f_0                conda-forge
hdf4                                    4.2.15                 h5557f11_7                conda-forge
hdf5                                    1.14.6                 nompi_h89f0904_104        conda-forge
hf-xet                                  1.2.1                  py310hfb9af98_0           conda-forge
hpack                                   4.1.0                  pyhd8ed1ab_0              conda-forge
httpcore                                1.0.9                  pyh29332c3_0              conda-forge
httpx                                   0.28.1                 pyhd8ed1ab_0              conda-forge
huggingface_hub                         1.2.3                  pyhd8ed1ab_0              conda-forge
hyperframe                              6.1.0                  pyhd8ed1ab_0              conda-forge
icu                                     75.1                   he0c23c2_0                conda-forge
idna                                    3.11                   pyhd8ed1ab_0              conda-forge
imath                                   3.2.2                  h1608b31_0                conda-forge
importlib-metadata                      8.7.0                  pyhe01879c_1              conda-forge
importlib_resources                     6.5.2                  pyhd8ed1ab_0              conda-forge
ipykernel                               7.1.0                  pyh6dadd2b_0              conda-forge
ipython                                 9.8.0                  pyhe2676ad_0              conda-forge
ipython_pygments_lexers                 1.1.1                  pyhd8ed1ab_0              conda-forge
jasper                                  4.2.8                  h8ad263b_0                conda-forge
jedi                                    0.19.2                 pyhd8ed1ab_1              conda-forge
joblib                                  1.5.2                  py313haa95532_0
jsoncpp                                 1.9.6                  hda1637e_1                conda-forge
jupyter_client                          8.7.0                  pyhcf101f3_0              conda-forge
jupyter_core                            5.9.1                  pyh6dadd2b_0              conda-forge
khronos-opencl-icd-loader               2024.10.24             h2466b09_1                conda-forge
kiwisolver                              1.4.9                  py313h1a38498_2           conda-forge
krb5                                    1.21.3                 hdf4eb48_0                conda-forge
lame                                    3.100                  hcfcfb64_1003             conda-forge
lcms2                                   2.17                   hbcf6048_0                conda-forge
lerc                                    4.0.0                  h6470a55_1                conda-forge
libabseil                               20250512.1             cxx17_habfad5f_0          conda-forge
libaec                                  1.1.4                  h20038f6_0                conda-forge
libarrow                                22.0.0                 h5f2f476_6_cuda           conda-forge
libarrow-acero                          22.0.0                 h7d8d6a5_6_cuda           conda-forge
libarrow-compute                        22.0.0                 h2db994a_6_cuda           conda-forge
libarrow-dataset                        22.0.0                 h7d8d6a5_6_cuda           conda-forge
libarrow-substrait                      22.0.0                 hf865cc0_6_cuda           conda-forge
libavif16                               1.3.0                  he916da2_2                conda-forge
libblas                                 3.11.0                 4_hf2e6a31_mkl            conda-forge
libbrotlicommon                         1.2.0                  hfd05255_1                conda-forge
libbrotlidec                            1.2.0                  hfd05255_1                conda-forge
libbrotlienc                            1.2.0                  hfd05255_1                conda-forge
libcblas                                3.11.0                 4_h2a3cdd5_mkl            conda-forge
libclang13                              21.1.7                 default_ha2db4b5_1        conda-forge
libcrc32c                               1.1.2                  h0e60522_0                conda-forge
libcurl                                 8.17.0                 h43ecb02_1                conda-forge
libdeflate                              1.25                   h51727cc_0                conda-forge
libevent                                2.1.12                 h3671451_1                conda-forge
libexpat                                2.7.3                  hac47afa_0                conda-forge
libffi                                  3.5.2                  h52bdfb6_0                conda-forge
libfreetype                             2.14.1                 h57928b3_0                conda-forge
libfreetype6                            2.14.1                 hdbac1cb_0                conda-forge
libgcc                                  15.2.0                 h8ee18e1_16               conda-forge
libglib                                 2.86.2                 hd9c3897_0                conda-forge
libgomp                                 15.2.0                 h8ee18e1_16               conda-forge
libgoogle-cloud                         2.39.0                 h19ee442_0                conda-forge
libgoogle-cloud-storage                 2.39.0                 he04ea4c_0                conda-forge
libgrpc                                 1.73.1                 h317e13b_1                conda-forge
libhwloc                                2.12.1                 default_h88281d1_1000     conda-forge
libhwy                                  1.3.0                  ha71e874_1                conda-forge
libiconv                                1.18                   hc1393d2_2                conda-forge
libintl                                 0.22.5                 h5728263_3                conda-forge
libintl-devel                           0.22.5                 h5728263_3                conda-forge
libjpeg-turbo                           3.1.2                  hfd05255_0                conda-forge
libjxl                                  0.11.1                 hac9b6f3_5                conda-forge
liblapack                               3.11.0                 4_hf9ab0e9_mkl            conda-forge
liblapacke                              3.11.0                 4_h3ae206f_mkl            conda-forge
liblzma                                 5.8.1                  h2466b09_2                conda-forge
libmpdec                                4.0.0                  h2466b09_0                conda-forge
libnetcdf                               4.9.2                  nompi_ha45073a_118        conda-forge
libogg                                  1.3.5                  h2466b09_1                conda-forge
libopencv                               4.12.0                 headless_py313h27517d0_9  conda-forge
libopenvino                             2025.2.0               hbf28c98_1                conda-forge
libopenvino-auto-batch-plugin           2025.2.0               hdd9a157_1                conda-forge
libopenvino-auto-plugin                 2025.2.0               hdd9a157_1                conda-forge
libopenvino-hetero-plugin               2025.2.0               hc39e7c6_1                conda-forge
libopenvino-intel-cpu-plugin            2025.2.0               hbf28c98_1                conda-forge
libopenvino-intel-gpu-plugin            2025.2.0               hbf28c98_1                conda-forge
libopenvino-ir-frontend                 2025.2.0               hc39e7c6_1                conda-forge
libopenvino-onnx-frontend               2025.2.0               hee3bb10_1                conda-forge
libopenvino-paddle-frontend             2025.2.0               hee3bb10_1                conda-forge
libopenvino-pytorch-frontend            2025.2.0               hac47afa_1                conda-forge
libopenvino-tensorflow-frontend         2025.2.0               h293fe96_1                conda-forge
libopenvino-tensorflow-lite-frontend    2025.2.0               hac47afa_1                conda-forge
libopus                                 1.5.2                  h2466b09_0                conda-forge
libparquet                              22.0.0                 h7051d1f_6_cuda           conda-forge
libpng                                  1.6.53                 h7351971_0                conda-forge
libprotobuf                             6.31.1                 hdcda5b4_2                conda-forge
libre2-11                               2025.11.05             h0eb2380_0                conda-forge
librsvg                                 2.58.4                 h5ce5fed_3                conda-forge
libsodium                               1.0.20                 hc70643c_0                conda-forge
libsqlite                               3.51.1                 hf5d6505_0                conda-forge
libssh2                                 1.11.1                 h9aa295b_0                conda-forge
libtheora                               1.1.1                  hc70643c_1006             conda-forge
libthrift                               0.22.0                 h23985f6_1                conda-forge
libtiff                                 4.7.1                  h8f73337_1                conda-forge
libusb                                  1.0.29                 h1839187_0                conda-forge
libutf8proc                             2.11.2                 hb980946_0                conda-forge
libvorbis                               1.3.7                  h5112557_2                conda-forge
libvulkan-loader                        1.4.328.1              h477610d_0                conda-forge
libwebp-base                            1.6.0                  h4d5522a_0                conda-forge
libwinpthread                           12.0.0.r4.gg4f2fc60ca  h57928b3_10               conda-forge
libxcb                                  1.17.0                 h0e4246c_0                conda-forge
libxml2                                 2.13.9                 h741aa76_0                conda-forge
libxslt                                 1.1.43                 h25c3957_0                conda-forge
libzip                                  1.11.2                 h3135430_0                conda-forge
libzlib                                 1.3.1                  h2466b09_2                conda-forge
llvm-openmp                             21.1.7                 h4fa8253_0                conda-forge
loguru                                  0.7.3                  pyh7428d3b_0              conda-forge
lz4-c                                   1.10.0                 h2466b09_1                conda-forge
matplotlib                              3.10.8                 py313hfa70ccb_0           conda-forge
matplotlib-base                         3.10.8                 py313he1ded55_0           conda-forge
matplotlib-inline                       0.2.1                  pyhd8ed1ab_0              conda-forge
mayavi                                  4.8.3                  pyqt_py313h78428b7_301    conda-forge
mkl                                     2025.3.0               hac47afa_454              conda-forge
msgpack-python                          1.1.2                  py313hf069bd2_1           conda-forge
multidict                               6.7.0                  py313hd650c13_0           conda-forge
multiprocess                            0.70.18                py313h5fd188c_2           conda-forge
munkres                                 1.1.4                  pyhd8ed1ab_1              conda-forge
nest-asyncio                            1.6.0                  pyhd8ed1ab_1              conda-forge
nlohmann_json                           3.12.0                 h5112557_1                conda-forge
numpy                                   2.3.5                  py313hce7ae62_0           conda-forge
opencl-headers                          2025.06.13             he0c23c2_0                conda-forge
opencv                                  4.12.0                 headless_py313hf76dbfe_9  conda-forge
openexr                                 3.4.4                  ha75af49_0                conda-forge
openh264                                2.6.0                  hb17fa0b_0                conda-forge
openjpeg                                2.5.4                  h24db6dd_0                conda-forge
openjph                                 0.25.3                 hf13a347_0                conda-forge
openssl                                 3.6.0                  h725018a_0                conda-forge
orc                                     2.2.1                  h7414dfc_0                conda-forge
packaging                               25.0                   pyh29332c3_1              conda-forge
pandas                                  2.3.3                  py313hc90dcd4_2           conda-forge
pango                                   1.56.4                 h03d888a_0                conda-forge
parso                                   0.8.5                  pyhcf101f3_0              conda-forge
pcre2                                   10.46                  h3402e2f_0                conda-forge
pillow                                  12.0.0                 py313h38f99e1_2           conda-forge
pip                                     25.3                   pyh145f28c_0              conda-forge
pixman                                  0.46.4                 h5112557_1                conda-forge
platformdirs                            4.5.1                  pyhcf101f3_0              conda-forge
ply                                     3.11                   pyhd8ed1ab_3              conda-forge
proj                                    9.6.2                  h7990399_2                conda-forge
prompt-toolkit                          3.0.52                 pyha770c72_0              conda-forge
propcache                               0.3.1                  py313hb4c8b1a_0           conda-forge
psutil                                  7.1.3                  py313h5fd188c_0           conda-forge
pthread-stubs                           0.4                    h0e40799_1002             conda-forge
pugixml                                 1.15                   h372dad0_0                conda-forge
pure_eval                               0.2.3                  pyhd8ed1ab_1              conda-forge
py-opencv                               4.12.0                 headless_py313hf4c0dd9_9  conda-forge
pyarrow                                 22.0.0                 py313hfa70ccb_0           conda-forge
pyarrow-core                            22.0.0                 py313hd406576_0_cuda      conda-forge
pyface                                  8.0.0                  pyhd8ed1ab_2              conda-forge
pygments                                2.19.2                 pyhd8ed1ab_0              conda-forge
pyparsing                               3.2.5                  pyhcf101f3_0              conda-forge
pyqt                                    5.15.11                py313h1048830_2           conda-forge
pyqt5-sip                               12.17.0                py313hfe59770_2           conda-forge
pyside6                                 6.9.2                  py313hd8d090c_1           conda-forge
pysocks                                 1.7.1                  pyh09c184e_7              conda-forge
python                                  3.13.11                h09917c8_100_cp313        conda-forge
python-dateutil                         2.9.0.post0            pyhe01879c_2              conda-forge
python-gil                              3.13.11                h4df99d1_100              conda-forge
python-tzdata                           2025.3                 pyhd8ed1ab_0              conda-forge
python-xxhash                           3.6.0                  py313hdf96bf3_1           conda-forge
python_abi                              3.13                   8_cp313                   conda-forge
pytz                                    2025.2                 pyhd8ed1ab_0              conda-forge
pywin32                                 311                    py313h40c08fc_1           conda-forge
pyyaml                                  6.0.3                  py313hd650c13_0           conda-forge
pyzmq                                   27.1.0                 py312hbb5da91_0           conda-forge
qhull                                   2020.2                 hc790b64_5                conda-forge
qt-main                                 5.15.15                hb098fff_6                conda-forge
qt6-main                                6.9.2                  ha0de62e_3                conda-forge
rav1e                                   0.7.1                  ha073cba_3                conda-forge
re2                                     2025.11.05             ha104f34_0                conda-forge
requests                                2.32.5                 pyhd8ed1ab_0              conda-forge
scikit-learn                            1.7.1                  py313hd8cff78_0
scipy                                   1.16.3                 pypi_0                    pypi
sdl2                                    2.32.56                h5112557_0                conda-forge
sdl3                                    3.2.28                 h5112557_0                conda-forge
setuptools                              80.9.0                 pyhff2d567_0              conda-forge
shaderc                                 2025.3                 haa9a63f_1                conda-forge
shellingham                             1.5.4                  pyhd8ed1ab_2              conda-forge
sip                                     6.10.0                 py313hfe59770_1           conda-forge
six                                     1.17.0                 pyhe01879c_1              conda-forge
snappy                                  1.2.2                  h7fa0ca8_1                conda-forge
sniffio                                 1.3.1                  pyhd8ed1ab_2              conda-forge
spirv-tools                             2025.4                 h49e36cd_0                conda-forge
sqlite                                  3.51.1                 hdb435a2_0                conda-forge
stack_data                              0.6.3                  pyhd8ed1ab_1              conda-forge
svt-av1                                 3.1.2                  hac47afa_0                conda-forge
tbb                                     2022.3.0               hd094cb3_1                conda-forge
threadpoolctl                           3.5.0                  py313h4442805_1
tk                                      8.6.13                 h2c6b04d_3                conda-forge
toml                                    0.10.2                 pyhcf101f3_3              conda-forge
tomli                                   2.3.0                  pyhcf101f3_0              conda-forge
tornado                                 6.5.3                  py313h5ea7bf4_0           conda-forge
tqdm                                    4.67.1                 pyhd8ed1ab_1              conda-forge
traitlets                               5.14.3                 pyhd8ed1ab_1              conda-forge
traits                                  7.0.2                  py313h5ea7bf4_1           conda-forge
traitsui                                8.0.0                  pyhd8ed1ab_1              conda-forge
typer-slim                              0.20.0                 pyhcf101f3_1              conda-forge
typing-extensions                       4.15.0                 h396c80c_0                conda-forge
typing_extensions                       4.15.0                 pyhcf101f3_0              conda-forge
tzdata                                  2025b                  h78e105d_0                conda-forge
ucrt                                    10.0.26100.0           h57928b3_0                conda-forge
urllib3                                 2.6.2                  pyhd8ed1ab_0              conda-forge
utfcpp                                  4.0.8                  h57928b3_0                conda-forge
vc                                      14.3                   h2b53caa_33               conda-forge
vc14_runtime                            14.44.35208            h818238b_33               conda-forge
vcomp14                                 14.44.35208            h818238b_33               conda-forge
vs2015_runtime                          14.44.35208            h38c0c73_33               conda-forge
vtk-base                                9.4.2                  py313h0ccec14_4           conda-forge
wcwidth                                 0.2.14                 pyhd8ed1ab_0              conda-forge
win32_setctime                          1.2.0                  pyhd8ed1ab_0              conda-forge
win_inet_pton                           1.1.0                  pyh7428d3b_8              conda-forge
wslink                                  2.5.0                  pyhd8ed1ab_0              conda-forge
x264                                    1!164.3095             h8ffe710_2                conda-forge
x265                                    3.5                    h2d74725_3                conda-forge
xorg-libxau                             1.0.12                 hba3369d_1                conda-forge
xorg-libxdmcp                           1.1.5                  hba3369d_1                conda-forge
xxhash                                  0.8.3                  hbba6f48_0                conda-forge
yaml                                    0.2.5                  h6a83c73_3                conda-forge
yarl                                    1.22.0                 py313hd650c13_0           conda-forge
zeromq                                  4.3.5                  h5bddc39_9                conda-forge
zipp                                    3.23.0                 pyhcf101f3_1              conda-forge
zlib                                    1.3.1                  h2466b09_2                conda-forge
zlib-ng                                 2.3.2                  h5112557_0                conda-forge
zstd                                    1.5.7                  h534d264_6                conda-forge
